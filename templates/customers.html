{% extends "base.html"%}

{% block title %}
Customers
{% endblock %}

{% block content %}
<h1>Customers</h1>
<div class="container">


    <br>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Register a Customer
    </button>
    <br>
    <br>
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">Register a Customer</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <form id="pform" action="/customers" method="POST">
                        <label>Name</label>
                        <input type="text" class="form-control" id="username" placeholder="Full name" name="name" />
                        <br>
                        <br>
                        <label>Number</label>
                        <input type="text" class="form-control" id="username" placeholder="Full name"
                            name="phonenumber" />
                        <br>
                        <br>
                        <label>Email address</label>
                        <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com"
                            name="email" />
                        <br>

                        <br>
                        <input type="submit" value="POST">

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <table id="myTable" class="table">
        <thead>
            <tr>
                <th scope="col">Customer id</th>
                <th scope="col">Customer Name</th>
                <th scope="col">Customer Number</th>
                <th scope="col">Customer Email</th>

            </tr>
        </thead>
        <tbody>
            {%for customer in customers%}
            <tr>
                <th>{{ customer.customer_id }}</th>
                <td>{{ customer.full_name }}</td>
                <td>{{ customer.phone_number }}</td>
                <td>{{ customer.email }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}